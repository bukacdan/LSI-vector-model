{% extends "base.html" %}

{% block head %}
<link rel='stylesheet' href={{ url_for('static', filename='css/results.css') }} />
{% endblock%}

{% block content %}
<section id='results'>
  <section id='tech-analysis'>
    <p>
      Number of results limited to <span class="technical">{{ res | length }}</span>.
    </p>
    <p>
      {% if seq %}
      Searching sequentially.
      {% endif %}
      Results found in <span class="technical"> {{ "%.2f" | format(time) }} s</span>.
    </p>
  </section>
  <section>
    <ol class="result-list">
      {% for r in res %}
        <li class="result-item">
          <article class="result-article">
            <header>
              <p class="technical">Query: {{ r["query"] }}</p>
              <p class="technical">Lemmatized query: {{ r["query_lemmatized"] }}</p>
      
              {% if not seq %}
              <p class="technical">Angle: {{ r["angle"] }}</p>
              {% endif %}
      
              <p class="technical">Document index: {{ r["document_index"] }}</p>
              <p class="text">{{ r["document"][:100] }}...</p>
            </header>
            <a href="{{ url_for('detail', idx=loop.index) }}"><button class="submit-btn">Go to detail &rarr;</button></a>
          </article>
        </li>
      {% endfor %}
    </ol>
  </section>
</section>
{% endblock %}